                      YAWL Release 2.0 beta (Update 3) 18/11/2008
                      ===========================================

This beta update is an interim release of the YAWL Environment, and includes a
number of bug-fixes and enhancements. Please take the time to read the change list
below and the previous 2.0 beta release notes further down the page.


QUICK START: After installation, start Tomcat and point a browser to
             http://localhost:8080/resourceService


1. MINIMUM REQUIREMENTS
-----------------------
  * Tomcat 5.5.25 or higher
  * Java 5 (1.5) or higher


2. CHANGES IN THIS UPDATE
-------------------------
(a) ENGINE:
 - Fixed a permission denied error when loading specifications into the engine on OSX
   installations where the logged on user did not have (osx) admin privileges.
 - Removed from the process of loading a specification into the engine the creation of
   temporary file with the specification's contents, which (in addition to being
   inefficient) was causing problems for users who did not have admin (write) access to
   the tomcat directories (e.g. XP Prof, Win Server, OSX).
 - Added specification versioning to deprecated services so they will all work with
   YAWL 2.0.
 - Fixed an obscure bug that occurred when a task split enabled a number of tasks, among
   which were included at least one composite task and at least one empty task (i.e. a
   task with no decomposition), which would result in an attempt to start the composite
   task(s) twice.
 - Interface B now contains a 'handleCancelledCaseEvent' which can be overridden by
   custom services to take the appropriate action when a case is cancelled.
 - Removed the javax/servlet package from the YAWL standalone.jar file, as it was not
   required for standalone use and was causing conflicts to other applications.

(b) RESOURCE SERVICE:
 - All forms now render correctly in MSIE. Other browsers successfully tested: Firefox 2
   (linux) & 3 (win, osx); Safari (win, osx); opera (win, osx).
 - Added a 'Team Queues' form, which will be available for participants with either
   admin access, or ‘view team’ and/or ‘view orggroup’ privileges, and will display a
   read-only view of all the current workitems on the queues of any member of their
   team and/or org group as appropriate. A team member is a participant who holds a
   position that hierarchically reports to a position held by the logged on participant.
   An org group member is a participant who holds a position that ‘belongs to’ an org
   group (including subgroups) that ‘owns’ a position held by the logged on participant.
 - There is new functionality to export/import org data tables to/from file. On the
   Org Data Management form, top right corner (near the 'refresh' button) there are two
   new icons: one for export, one for import. The files generated are standard xml. On
   import, the contents will be added to the db only if they don’t already exist
   (compared by id). So, several exports can be imported in sequence to effect a merge of
   org data.
 - Updated look and feel for the worklist and admin forms. Browser caches may need to
   be emptied or forms reloaded a few times for them to render correctly.
 - Message boxes now appear correctly aligned and centred under their respective forms.
 - Added a workaround for Firefox 3, Chrome and some other browsers autofilling userid
   and password data in the user management form's fields.
 - Refactored the WorkQueueGateway's pass through of Interfaces A & B methods to the
   engine.
 - Fixed a bug where a newly added participant would not have their roles, positions &
   capabilities displayed on the User Management form after another participant was
   selected and then the new participant was re-selected.
 - Fixed a bug that caused an exception when navigating to the admin queues and the
   first task in the list had a name longer than 20 characters and contained underscores.
 - Removed non-meaningful privileges (can view all offered/allocated/started) from the
   User Management Form.
 - Fixed a bug that caused an exception on the Org Data Management form if a new
   role/position/capability was added, then another one, then the newly added one listed
   first was deleted, then the 'remove' button was clicked again (without doing anything
   else).
 - Fixed a bug that caused an exception on the Org Data Management form if a new role
   was created, then a new participant was created (on the User Management form) and
   assigned the new role, then the participant was immediately deleted, then the new
   role was immediately deleted.
 - Fixed a bug that showed a list of roles rather than a list of positions in the
   'reports to' dropdown of the position tab of the Org Data Management form when adding
   a new position, iff the 'belongs to' list on the roles tab was first opened prior to
   navigating to the positions tab.
 - Added getParticipantCapabilities() and getParticipantPositions() methods to
   WorkQueueGateway.
 - Fixed an issue where a process failure due to a 'Bad Process Definition' caused by a
   malformed XQuery would show no error on the workqueue form (although it was being
   reported in the logs).
 - Fixed an exception that intermittently occurred on admin queues for process instances
   that contained multiple-instance tasks.
 - Fixed an issue where if specifications were loaded via another custom service (e.g.
   the worklet service) they would not appear in the list of loaded specifications on the
   case mgt form.
 - Added handling of 'cancelledCaseEvents' to remove workitems from queues when cases
   are cancelled via another custom service.
 - Fixed a bug that caused multiple instances of a workitem's data items, where the data
   item was a complex type, to be ignored by the dynamic form when it was first displayed. 
 - A small 'synch' button has been added to the admin queues (next to the refresh button)
   that, when clicked, will re-synch the resource service's caches with those of the
   engine. Such re-synching will only ever be necessary if there are items being checked
   in directly via interface B by applications not conforming to the YAWL custom service
   paradigm (i.e. standalone apps); this button will remove any such workitems from the
   queues. This provides admins with an easy, manual way to clean the queues in such
   (albeit rare) circumstances.
 - The +/- buttons on dynamic form sub-panels are now disabled if the sub-panels contents
   are all read-only.
 - Fixed a login issue that would cause an exception if there was a logon as 'admin' in
   a browser session and an attempt was made to logon as a user in the same session
   (the other way round was trapped successfully). Now only one logon per browser
   session is possible, no matter which type of user logs on first.

(c) WORKLET SERVICE:
 - Added a more meaningful error message when a valid ruleset is found, but no
   corresponding rule tree for the calling task can be found within it.
 - Fixed a bug when restarting a worklet from persistence and the worklet was created in
   a different YAWL version than the parent specification.
 - Fixed the rules editor so that it would accept '.yawl' files in addition to '.xml'
   files.
 - Fixed a bug that produced inconsistent results at runtime when the filename of a
   worklet was different to its specification id.
 - Worklets with the extension '.yawl' are now included in the list of available worklets
   when adding a new rule in the rules editor.
 - Fixed an issue where the rules editor would save a ruleset file using the name of the
   worklet file rather than the worklet's specification id.

(d) EDITOR:
 - This release includes a fundamental change: the 'ywl' file format has been deprecated
   and replaced with an xml file format which combines the specification definition with
   additional layout information, so dispensing with the need for two file formats for
   each specification. The new file format has an extension '.yawl'. You will notice a 
   few basic differences in the editor:
      * The file-open menu item will allow you to open a 'yawl' file or an 'xml' file
        (i.e. a specification xml file without layout information). An 'xml' file will
        get a default layout, the same as when an xml file was imported previously.
      * The file-save (and file-save-as) menu items will allow you to save a spec in
        'yawl' format (i.e. with layout information).
      * The import function will now import 'ywl' files (i.e. the old format). This means
        that a ywl file can still be opened, and a save will automatically convert it to
        the new format (its toolbar icon has moved so it is now next to file-open).
      * The export function is no longer required and has been removed.
      * The 'ywl' file converter for pre-2.0 ywl files is now built in to the editor.
        It works well for all but the very, very old ywl files (beta 4 or earlier).
      * The file-open dialog allows only yawl & xml files only to be selected - 'all
        files' is no longer an available file type.
   To facilitate the saving of incomplete nets, validation and analysis are disabled on
   save by default. It is recommended that validation and analysis be explicitly
   performed on specifications prior to loading them into the engine.
 - Only the basic analysis checks are now selected by default. This is designed so that
   analysis tasks, some of which can take a long time on large and/or complex specs, must
   be explicitly selected during each editor session.
 - The complete list of XML Schema data types are now available in the update parameter
   dialogs, superseding the restricted set available in previous versions.
 - Fixed a bug where codelet info was not being correctly saved to file in some cases.
 - In the 'Task Decomposition' dialog, the 'Automated' checkbox now disables if the
   selected service is not 'default worklist' (since it is not relevant for other custom
   services).
 - If a task has been given a label before a decomposition is created for it, the label
   will be entered into the decomposition label field as a default decomposition name.
 - An error dialog that shows when an analysis is attempted and the spec is not schema
   valid has been improved layout- and message-wise. 
 - In the 'Update Flow Predicates' dialog, the alternate colouring of rows has been
   suppressed when there are <5 rows, to avoid visual confusion.
 - The 'Direct-to-Decomposition' dialog now shows all net-level vars, no matter when they
   were added to the net.
 - Fixed the 'random' disabling of the 'Done' button on some dialogs.
 - Fixed a bug that was preventing the listing of potential deferred allocation net-level
   variables in resource wizard's 'Set Base Distribution List' form.
 - In the 'Set Timer Detail' dialog, the 'upon workitem started' option is now disabled
   for automated tasks (since that option is not relevant).
 - The irritating mouse-over 'help' text has been removed from the 'Update Parameters'
   dialog.
 - Any xml header inserted into user-defined data definitions are automatically removed,
   since these headers caused validation errors when saving specifications.
 - Fixed a bug where a retain-familiar-task setting would randomly disappear from a net
   after re-opening the specification.


3. CURRENT KNOWN LIMITATIONS
----------------------------
   This beta update version ships with the current *known* limitations listed below.
   They will be resolved in the final production release.

   - Where there is a condition in a process with multiple incoming arcs and an
     outgoing arc to a task, the task is not started immediately after an incoming
     task completes (so that multiple task instances are available concurrently -
     the expected behaviour), rather the latter tasks are enabled sequentially (so
     that only one can be 'live' at any one time).

   - Some of the more complex data schema constructs are not currently handled
     correctly for dynamic form generation. For example, dynamic forms won't render a
     choice element in a data schema that is a direct child of a complexType element
     (choice can be rendered correctly as a direct child of a simpleType element).
     Choice expressed as a combination of simpleType elements and 'memberType'
     attributes are also not currently supported.


   Please report any bugs or problems via the YAWL sourceforge page:

                    http://sourceforge.net/projects/yawl

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


                      YAWL Release 2.0 beta (Update 2) 03/09/2008
                      ===========================================

This beta update is an interim release of the YAWL Environment, and includes a large
number of bug-fixes and enhancements. Please take the time to read the change list
below and the previous 2.0 beta release notes further down the page.


!!   IMPORTANT NOTE: If you have a existing installation of YAWL Release 2.0 beta,  !!
!!   please note that a small change needs to be applied to one of the persisted    !!
!!   data tables.                                                                   !!
!!                                                                                  !!
!!   Please follow the instructions in the document "Update2TableFix.pdf", which    !!
!!   can be found inside 'YAWL_Release_2.0_beta_update2_ExecutableWebServices.zip'. !!


QUICK START: After installation, start Tomcat and point a browser to
             http://localhost:8080/resourceService


1. MINIMUM REQUIREMENTS
-----------------------
  * Tomcat 5.5.25 or higher
  * Java 5 (1.5) or higher


2. CHANGES IN THIS UPDATE
-------------------------
(a) ENGINE:
  - The Saxon package has been upgraded from version 7.0 to 9.1.0.1 (also affects all
    services).
  - The XercesImpl package has been upgraded from version 2.4 to 2.9, to correct a parse
    bug in the old version that was causing a specification load to lock the engine in
    certain circumstances.
  - Cleaned and improved the use of saxon classes when handling multi-instanced data.
  - Fixed a persistence exception caused when log4j was placed in debug mode.
  - Fixed a bug that caused an exception when restoring workitems from persistence and
    the whole workitem family was not available in the restored list of workitems.
  - Finalised the YAWL schema location in generated specification xml files.
  - Fixed a bug that caused deadlocked workitems to be persisted, so that they remained
    in the persisted table after the case was closed.
  - Fixed a bug where a workitem that had become deadlocked and was immediately preceded
    by a completing composite task was being logged twice (as deadlocked) in the event
    logs.
  - Fixed a bug that caused an exception when restoring a YWorkItemTimer on server
    startup.
  - Fixed a number of cascading bugs that occurred when restarting persisted
    YWorkItemTimers immediately on server startup.
  - Fixed missing persisted values for several members of YWorkItem that had changed
    since the workitem was first constructed.
  - Fixed an exception caused by a double cast of a timer expiry value.
  - Fixed an exception when restoring persisted case instances on startup, where the
    instance has an active sub-net and its specification version number is greater than
    "0.1".
  - Fixed a data validation problem with non-namespaced data schemas containing complex
    types.
  - Fixed a bug where a timer associated with a cancelled workitem was not removed
    from persistence.
  - Refactored support for multiple concurrent specification versions.
  - Added a 'engine initialisation completion' event so that custom services can run
    initialisation tasks that require a running engine to be available.


(b) RESOURCE SERVICE:
  - A much enhanced dynamic forms generation, with an improved look and feel and now
    supporting restriction, enumeration, choice, union, list, and full validation of all
    data types.
  - Fixed bug in dynamic forms when validating cloned panels containing textboxes of
    multi-instance fields.
  - Added an 'Accept & Start' button to the worklist's offered queue so that an offer
    can be accepted and the workitem started in one action.
  - Added a 'Complete' button to dynamic forms so that workitem data can be saved and
    the workitem be completed in one action.
  - Added a checkbox to the Admin workqueues called 'Directly to me' that appears when
    the logged in participant has admin privileges, allowing unoffered and worklisted
    workitems to be directly (re)offered, (re)allocated or (re)started to the
    participant, by-passing the user selection screen.
  - Fixed a bug in round robin allocators which was resulting in the workitem not
    appearing on any workqueue.
  - Fixed a bug in deferred allocation where net-level variable values were incorrectly
    retrieved resulting in the workitem not appearing on any workqueue.
  - The 'View' button is now enabled on the 'Started' workqueue whenever the selected
    workitem is associated with a custom form (for workitems not using custom forms, the
    'View' button is enabled only when the workitem has data for viewing/editing).
  - Fixed several small bug(s) so that all possible interaction strategy combinations
    work as expected.
  - Fixed a bug that caused an exception when a workitem had an 'SSS' allocation
    strategy combination and the participant the workitem was directed to was not
    currently logged on.
  - Fixed a bug that caused an exception when creating a new participant, and a role,
    capability or position was added and then removed before the new participant was
    saved the first time.
  - Updated the schemas of previous YAWL versions, required after the Xerces upgrade.
  - Fixed cyclic dependencies for roles, positions & orggroups, so that, for example,
    a position could not report to itself either directly or within the reporting
    hierarchy.
  - Fixed an exception caused when a participant deallocated a workitem.
  - Sorted listbox contents on all 'Org Data Mgt' tabs.
  - Assigning a role to a task now includes the set of all the member participants of
    that role and all the member participants of all the descendant sub-roles that
    'belong to' that role in the hierarchy.
  - Fixed a bug when delegating a task that was causing participants in subordinate
    positions to be listed more than once in the user selection screen.
  - Fixed a persistence bug with positions caused by a phantom column being created in
    a persisted table.
  - Added an appropriate message when a workitem completion is attempted directly from
    a dynamic form and does not succeed.
  - Fixed a bug that caused offered workitems to remain on the 'Offered' queue and also
    moved to the 'Allocated' queue after an 'Accept Offer', which occurred when there 
    were items on the 'Offered' queue when the server was shutdown and restarted.
  - Added cache checking code after each startup to ensure the service's known workitems
    match the engine's.
  - Fixed a bug where deallocating a workitem prevented the deallocating participant
    from being offered the same task in subsequent cases of the same specification (as
    opposed to just the current case).
  - Fixed a bug where allocated workitems were staying on the 'Allocated' workqueue when
    the workitem was started after a server restart.
  - Removed the engine id suffix from the task names displayed in worklists.
  - Fixed a bug which was causing the random creation of phantom participant objects.
  - Deallocation of a workitem is now restricted to participants who are subordinate
    (via position) to the participant performing the deallocation (as per delegation).
  - In the 'Edit Profile' screen, the 'Unchain' and 'Unpile' buttons are now disabled if
    there are no piled/chained workitems in the respective lists.
  - Fixed bug on the 'Org Data Mgt' screen where description & notes info would remain
    from the previous role/position/capability/orgGroup when the 'New' button is pressed.
  - Fixed bug when viewing a tab other than 'Roles' on the 'Org Data Mgt' screen, then
    navigating to another page and back again, the 'Roles' tab would show with the
    contents of the previously viewed tab.
  - Fixed a bug when filtering by Org Group that would result in an empty distribution
    set.
  - Fixed an issue where chaining left unwithdrawn offers on other worklists.
  - Fixed a bug that threw an exception in the 'Case Mgt' screen when a specification
    was loaded into an empty specification list, then immediately unloaded, then the
    'Unload' button was clicked again.
  - Added a refresh button to the running cases list on the 'Case Mgt' screen.
  - Fixed a bug where two specification instances with the same file name and
    specification id, but different version numbers, were listed in the running cases
    list with the same case number.
  - Fixed a bug where if the 'Accept & Start' button was clicked for a workitem that had
    a system-initiated start, an attempt was made to start the workitem twice.
  - Added a 'Version' number column to the 'Loaded Specifications' table of the 'Case
    Mgt' screen.
  - Added the version number of the specification to each running process listed in
    the 'Case Mgt' screen. 
  - Fixed a bug that allowed a blank service to be added in the 'Service Mgt' screen if
    the 'Clear' button was clicked first.
  - Disabled all superfluous JSF log messages from the standard output logs.
  - Automated tasks are now persisted while checked out of Engine.  


(c) EDITOR:
  - Upgraded to latest jgraph version - v5.12.1.1
  - Upgraded to saxon 9.1.0.1
  - Fixed a bug when importing a specification from XML that resulted in a missing
    default predicate for splits.
  - Fixed a bug that messed up arc colours when using the 'Updating Predicate Detail'
    dialog after importing a specification from XML.
  - Removed the engine id suffix from the task name in the Notes tab at screen bottom.
  - Updated ywl file loading to check, remove & report invalid resource references.
  - Fixed an exception thrown on analysis when a specification failed validation.
    Validation errors are now shown in a dialog and the analysis won't continue.
  - The data schema for YTimerType complex type is now exported correctly to the
    specification xml whenever that type is used.
  - Fixed the viewport of the Filters section of the resource wizard - its contents can
    now be clearly seen.
  - Fixed the auto-generation of XQuerys in the 'Update Parameters' dialog when mapping
    parameters of type YTimerType.
  - Fixed specification importing from xml so that all resourcing, timer and custom form
    information is also correctly created.
  - Fixed and enhanced development of Filter functionality for resourcing (Step 3 of
    the Wizard).
  - Added check to ensure that tasks selected for 'Separation of Duties' and
    'Familiar Task' in Resourcing Wizard step 3 are mutually exclusive.
  - Fixed bug in 'Update Flow Detail' dialog which caused the predicates list to resize
    to an unreadable proportion when there were more than 5 outgoing flows from a split.
  - Fixed bug where sometimes not all flow predicates were displayed in the 'Update Flow
    Detail' dialog.
  - Fixed a bug with the recreation of resourcing allocation strategy when importing a
    specification from xml.
  - An appropriate message is now displayed when 'Manage Resourcing' is selected, and
    there's a live resource service connection, and the org model associated with the
    resource service has no data.
  - Fixed a bug when dealing with xml 'special' characters in the initial values of
    net-level local string type variables.
  - Resolved an issue where both parameters of the 'org data' filter required values to 
    be specified, rather than one or the other or both.
  - Fixed a bug where importing a net-level output-only variable was creating a duplicate
    variable of usage 'Local'.
  - Fixed a bug where the 'Update' button would no longer respond when attempting to
    update a variable based on a user-defined data type and the reference for the
    datatype had been deleted from the data definitions dialog.
  - Added functionality that checks all user-defined type declarations at export time;
    if there are any problems, they are reported and export doesn't proceed (until they
    are fixed).
  - Fixed a bug when importing a specification from xml that contains a resource
    (participant or role) reference that no longer exists in the org data sourced from
    the resource service, which was causing a null resource reference to be stored, which
    in turn caused an exception when the specification was next exported.
  - Fixed a bug which was leaving the editor in an inconsistent state after loading a
    specification with a null value stored as a resource.
  - Fixed a bug which prevented the export of a specification that contained a YTimerType.
  - Fixed a bug which was auto-incrementing a specification's version number on export
    even when the user aborted the export via the file save and/or overwrite file dialogs.
  - Fixed a bug which caused the editor to hang when exporting a specification containing
    tasks with no decompositions.
  - Fixed a further bug that was displaying a load error when no error had occurred,
    leaving the editor in an inconsistent state.
  - Fixed a bug that was inserting a simpleType XQuery in the 'Update Parameters' dialog
    instead of a complexType XQuery for certain complexType constructs.
  - Fixed a bug that was leaving remnants of removed parameters in internal task mappings
    resulting in half-completed xml mappings in exported specifications, leading to a
    runtime exception when a specification instance was executed.
  - Fixed a bug that was leaving removed net-level parameters in task mappings in certain
    circumstances.
  - Fixed a bug that showed a valid YTimerType value as invalid in the 'Initial Value'
    field of the 'Update Parameters' dialog.
  - Added the filename of specifications loaded from xml to the titlebar (previously only
    ywl filenames were shown).
  - Added the build date and time to the 'Help...About' dialog.
    

(d) WORKLET SERVICE:
  - A very minor change to prevent an unnecessary warning message when persistence
    tables are created and/or checked on server startup.



3. CURRENT KNOWN LIMITATIONS
----------------------------
   This beta update version ships with the current *known* limitations listed below.
   They will be resolved in the final production release.

   - The resource service's worklist and admin pages render correctly in all tested
     browsers (Firefox (pre-3.0), Opera and Safari on Win & OSX) *except* Microsoft
     Internet Explorer and some minor problems with Firefox 3.

   - The 'New Instance' button on the Started work queue, which provides for the
     dynamic creation of new workitem instances for multiple atomic tasks that allow
     dynamic creation, is not currently operational (ie. it does nothing).

   - Where there is a condition in a process with multiple incoming arcs and an
     outgoing arc to a task, the task is not started immediately after an incoming
     task completes (so that multiple task instances are available concurrently -
     the expected behaviour), rather the latter tasks are enabled sequentially (so
     that only one can be 'live' at any one time).

   - Some of the more complex data schema constructs are not currently handled
     correctly for dynamic form generation. For example, dynamic forms won't render a
     choice element in a data schema that is a direct child of a complexType element
     (choice can be rendered correctly as a direct child of a simpleType element).
     Choice expressed as a combination of simpleType elements and 'memberType'
     attributes are also not currently supported.


   Please report any bugs or problems via the YAWL sourceforge page:

                    http://sourceforge.net/projects/yawl

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


                      YAWL Release 2.0 beta (Update 1) 09/07/2008
                      ===========================================

This beta update is an interim release of the YAWL Environment, which fixes several
problems and introduces some new features as we move towards a version 2.0 production
release.

Please read the change list below and the previous 2.0 beta release notes further down
the page.


!!   IMPORTANT NOTE: If you have a existing installation of YAWL Release 2.0 beta,  !!
!!   please be aware that there has been a number of changes to column names and    !!
!!   data types in the persisted data tables to better support a wider variety of   !!
!!   database backends. As a consequence, it is necessary to remove or modify the   !!
!!   tables in the previously created database BEFORE this update 1 version is      !!
!!   started in Tomcat - persistence will fail if this is not done. Unless the      !!
!!   current tables contain important information that cannot be lost, they can     !!
!!   all be removed (dropped) from the yawl database using a Postgres admin tool -  !!
!!   they will be recreated when Tomcat restarts.                                   !!
!!   If you really must retain the information currently in the tables, you must    !!
!!   apply the following sql scripts using the Postgres admin tool, in this order:  !!
!!     1. 'remove_persisted_data.sql' - all persisted data must be removed before   !!
!!        the required column name changes can occur.                               !!
!!     2. 'YAWL_update_tables.sql' - to change the YAWL engine and resource         !!
!!        service tables.                                                           !!
!!     3. 'Worklet_update_tables.sql' - if the worklet service has been installed.  !!
!!   Similarly for other database backends; edit the scripts as required (to mask   !!
!!   keywords). Note that the password of each particicipant stored will be reset   !!
!!   to 'apple' as part of this process.                                            !!
!!   The scripts can be downloaded as 'AlterTableScripts.zip' from the YAWL         !!
!!   Engine download page on sourceForge. The zip file also contains a document     !!
!!   with step by step instructions.                                                !!


!!   ANOTHER IMPORTANT NOTE: Two minor problems have been corrected in the          !!
!!   generation of specification XML between the Editor and Engine. These           !!
!!   corrections mean that any specification XML produced with Editor 2.0(beta)     !!
!!   will fail validation when a load into the Engine is attempted. However, they   !!
!!   can be easily fixed in any text editor:                                        !!
!!      1. Release 2.0(beta) xml generation was producing an <externalInteraction>  !!
!!         element for ALL decomposition types, but they are only meaningful for    !!
!!         task-level decompositions, not net-level ones. This version (correctly)  !!
!!         does not allow net-level decompositions to have <externalInteraction>    !!
!!         elements. To fix, open the specification XML in any text editor and      !!
!!         search for all instances of the text "NetFactsType". Within each of      !!
!!         those decomposition types, remove (delete) the <externalInteraction>     !!
!!         element.                                                                 !!
!!      2. This fix is only necessary for specifications that include tasks that    !!
!!         invoke custom services. To fix, open the specification XML in any text   !!
!!         editor and search for all instances of the text "yawlService".           !!
!!         Directly above each <yawlService...> element instance there will be an   !!
!!         <externalInteraction> element. Swap the positions of these two lines     !!
!!         (so that the <externalInteraction> element is on the bottom).            !!



QUICK START: After installation, start Tomcat and point a browser to
             http://localhost:8080/resourceService


1. MINIMUM REQUIREMENTS
-----------------------
  * Tomcat 5.5.25 or higher
  * Java 5 (1.5) or higher


2. CHANGES IN THIS UPDATE
-------------------------
(a) EDITOR:
  - Resource Wizard dialogs now remain 'always on top' when active.
  - In the Resource Dialogs, replaced all occurrences of 'Users' with 'Participants' and
    reworded/corrected the text where necessary.
  - In the Resource Dialogs, sorted the participant and role lists. Deferred allocation
    list now shows net-level vars (restricted to String type only).
  - In the Resource Wizard, fixed the "retain familiar" and "4-eye principle"
    checkboxes so they can be deselected after being selected (i.e. can now undo
    a previous choice).
  - In Resource Wizard, added buttons to unselect all previous selections of roles
    and/or participants in the distribution set selection screen.
  - Added the ability to mark/unmark a decomposition as 'automated' in the decomposition
    dialog.
  - Set 'Manage Resourcing' menu to only be available when the decomposition is not
    'automated'.
  - Added the ability to set a 'codelet' for an automated task, which will be executed
    when the task is enabled.
  - Modified parameter mapping dialog so that a choice can be made between mapping a
    task variable's value or an expression to an output parameter.
  - Completed functionality of task timer setting, so that a timer can be set by
    fixed expiry date, duraton or deferred values via a net-level parameter. To
    facilitate the deferred option, a new type, YTimerType, has been included as a
    basic data type.
  - Refactored the 'save on exit' dialog functionality so that it only appears if
    changes have been made since the last save.
  - Removed the superfluous "Verify Password" field from "Set Resourcing Service" and
    "Set Engine Detail".
  - Various renaming of menu items throughout.
  - Modified the schema preamble in the data definition dialog by prefixing 'xs:',
    allowing for symbolic referencing in data schemas.
  - Also in the data definition dialog, added Copy, Cut, Paste, Undo and Redo buttons
    and CTRL-V and CTRL-C as shortcuts; also changed the length of a TAB to 2 spaces
    (down from 16); and doubled the initial size of the dialog.
  - Checkbox added to export specification dialog to auto increment version number.
    The version number is now saved when dialog exits, and is reflected in spec xml.
  - The export specification dialog will now ask for a valid specification id the first
    time a specification is exported, if it hasn't already been set in the specification
    properties; 'unnamed.ywl' is no longer considered to be a valid id.
  - Fixed a bug that was throwing an exception if a role name uses the "&" symbol.
  - Fixed generation of export files containing simply the word 'null' if a problem
    occurred during xml generation. Now a warning dialog will display and the file will
    not be created.
  - Added a 'Drop Task Decomposition' menu item to the task popup menu, which
    disconnects a task from a decomposition (but does not remove it from the editor
    session, so that it can be rejoined to the task or used by other tasks).
  - Refactored code so that new connection attempts to the engine or resource service
    with different details reinitiates the connection (previously they were ignored).
    Also improved the dialog's look and feel.
  - When creating a new specification, its window size will completely fit within the
    outer window.
  - When importing a specification from xml, its window size will completely fit within
    the outer window.
  - A warning dialog displays when a connection with the resource service is not
    available, and the "Manage Resourcing" menu is selected.
  - Fixed a bug where, if the name of a complex type is too long, other widgets were
    "cramped" in the update parameters dialog.
  - Added the ability to specify a 'custom form' for a task.
  - Fixed a bug where open net references were being displayed in the wrong place on
    the View menu.
  - Fixed bug where importing a specification from xml would its lose flow parameters.
  - Fixed bug where importing a specification from xml with more than a single net
    would start non-root nets iconified.


(b) ENGINE / RESOURCE SERVICE:
  - Renamed a number of database table columns to avoid reserved word and naming
    conflicts with various database systems. The YAWL environment has been tested to
    successfully run with postgres, mysql, hsqldb, oracle & derby.
  - Enhanced specification versioning, so that different versions of the same
    specification can co-exist in the engine.
  - Removed the superfluous <externalInteraction> tags from net-level decompositions;
    external interactions are only relevant for task decompositions.
  - Added encryption to password storage for participants.
  - Added some persistence fixes (courtesy of Matt Flaherty).
  - Corrected a couple of issues with the encoding/decoding of reserved characters in
    xml values being passed across the various interfaces.
  - Fixed an ordering bug in the specification schema which was inserting custom service
    references in the wrong place.
  - Added a unique identifier to all newly generated specifications.
  - Refactored/improved the interaction of deferred timers.
  - Added a new 'handleTimeoutEvent' to Interface B.
  - Corrected a parameter ordering bug with net-level input params.
  - Added 'codelets' functionality - the ability to associate an executable parcel
    of code to an automated task, which will run when the task is enabled. An example
    codelet, 'ShellExecution', executes an external program on the server.
  - Refactored/improved/standardised the operation of Interface_Client, the foundation
    of data passing across the interfaces, with some flow-on refactoring of interfaces
    A, B & E.
  - Fixed a bug which was causing an exception if an xml 'escaped' character was
    entered in a text field on a dynamically generated form.
  - A workitem can now be passed to a 'custom form' (a specially designed form) for
    display and editing, rather than use the default dynamically generated form. The
    custom form may be jsp, jsf, php, .net or anything else that can receive an xml
    description of a workitem and use it to populate fields.
  - Increased default session times to 60 mins (from 30).
  - Relocated and refactored persistence restore code from YEngine to a new
    discrete 'YEngineRestorer' class.
  - Fixed a bug with data validation when executing a specification that called the
    yawlWSinvoker service.
  - Corrected some of the old examples so that they will all now execute successfully.
  - Enhanced resource event logging to capture all resource status changes.
  - Refactored/cleaned build.xml and the way the engine war file is built (so that it
    no longer contains superfluous classes).
  - Updated various third party jars to their latest versions.


3. CURRENT KNOWN LIMITATIONS
----------------------------
   This beta update version ships with the current *known* limitations listed below.
   They will be addressed shortly and will be resolved in the final production release.

   - The resource service's worklist and admin pages render correctly in all tested
     browsers (Firefox, Opera and Safari on Win & OSX) *except* Microsoft Internet
     Explorer.

   - The dynamic forms generated for workitems in the resource service's worklist do not
     yet support data schemas with simple type enumerations and restrictions.

   - There is an occasional issue in dynamic forms containing complex types that allow
     users to dynamically the increase the number of instances, where fields are not
     replicated correctly if data has previously been input into some of the fields.

   - The 'New Instance' button on the Started work queue, which provides for the
     dynamic creation of new workitem instances for multiple atomic tasks that allow
     dynamic creation, is not currently operational (ie. it does nothing).

   - Where there is a condition in a process with multiple incoming arcs and an
     outgoing arc to a task, the task is not started immediately after an incoming
     task completes (so that multiple task instances are available concurrently -
     the expected behaviour), rather the latter tasks are enabled sequentially (so
     that only one can be 'live' at any one time). 


   Please report any bugs or problems via the YAWL sourceforge page:

                    http://sourceforge.net/projects/yawl


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

                      YAWL Release 2.0 (beta) 30/05/2008
                      ==================================

This is the beta release of the YAWL Environment (version 2.0). A final 2.0 release
is expected in the short term, so this beta release should be considered a true 'beta':
released with a view to have any remaining issues, shortcomings and bugs identified and
resolved before the final release.

Please read through the list of new features and current known limitations below. More
detailed information will be released as it becomes available.

This release comes with a new installer package (for Windows installations) that easily
installs all the required software. Alternately, the install can be done manually by
copying the war files to tomcat/webapps directory as per previous versions.

QUICK START: After installation, start Tomcat and point a browser to
             http://localhost:8080/resourceService


1. MINIMUM REQUIREMENTS
-----------------------
  * Tomcat 5.5.25 or higher
  * Java 5 (1.5) or higher


2. NEW FEATURES
---------------
   ENGINE: The core YAWL engine is more robust, and supports several new features:

     - A task may be 'marked' as requiring human resources (a manual task - see the
       Resource Service below), or not (an automated task). When enabled, an automated
       task is immediately started and completed, with any XQueries on output parameters
       performed. The final release will include the ability for automated tasks to have
       'codelets' designated and executed during their processing.

     - A task may be extended with a timer, which can be set to be triggered either on
       enablement (ie. when a workitem is created) or on executing (ie. when a workitem
       is started), and to expire either after a specified duration or at a specified
       date and time. On expiry, a 'manual' task will auto-complete and an event will be
       generated by the engine for services to take action (if required). If the task
       is of 'automated' type, the timer will act as a delay (processing of an
       automated task is delayed until the timer expires). A net-level variable may
       be specified so that, at runtime, it receives a timer trigger type and expiry
       time or duration, which can be used by a later task (or tasks) to set its
       timer parameters - late binding of timer information.

     - A task or a decomposition may have 'extended attributes' added to its
       specification, which are passed through the engine to interested services to
       interpret as required. For example, attributes can be passed through to forms
       that describe how certain fields should be displayed.

     - A new interface, Interface E, has been created to provide a link to the engine's
       process logs, and contains a number of methods for interrogating the log tables.
       The structure of the log tables has been completely revamped to better capture
       process events.

     - For developers, the WorkItemRecord object has been expanded to provide much
       more information about a workitem to custom services.

     - A new specification schema has been developed to include the new features of
       YAWL 2.0, but the 2.0 engine is completely backwards-compatible and will execute
       process specifications developed under any and all previous YAWL versions.


   RESOURCE SERVICE: To support resourcing, a new Resource Service has been designed
   and implemented. The service has been created as a standard YAWL custom service, so
   that resourcing decisions are completely removed from the core engine - the engine
   has no knowledge of how a workitem is resourced. The service incorporates an
   integrated worklist handler and administrative tool, and provides direct support for
   38 of the 43 identified resource patterns (the remaining 5 refer to a 'case
   handling' paradigm). Full documentation will follow soon (but see the 'YAWL EDITOR
   v2.0 USER MANUAL' for some details). Features:

     - resources (participants and/or roles) can be allocated to tasks at design time,
       or can be late-bound at runtime, to form a 'distribution set' for each task.

     - certain filters and constraints may be applied to a distribution set, based on
       organisational groupings, positions and capabilities (or skillsets). Tasks can
       also be constrained so that they are allocated to the same user as a previous
       task (retain familiar), or not allocated to the same user as a previous task
       (four-eyes principle).

     - different allocation strategies may be applied to the set to choose a
       particular participant, including (by default) round robin, shortest queue,
       random choice, and historical (logged) data such as 'who hasn't done this for the
       longest time?'.

     - a user now has four workqueues: Offered, Allocated, Started and Suspended. Which
       queue a workitem arrives on depends on resourcing strategies applied to the
       workitem. Workitems can be manipulated via these queues (depending on 
       authorisations), for example a workitem may be delegated, reallocated (either
       with or without current data-state changes), skipped, chained, piled and so on.

     - a task may specify that it is to be displayed to the user via a 'custom form'
       designed specifically for the task, or be displayed via a dynamically
       generated form. The dynamic form generation is completely encapsulated within the
       resource service and does not rely on third party screen generation libraries
       (such as XForms). See 'customformtest.jsp' in the resourceService jsp files for
       an example of a simple custom form.

     - admin pages are provided to manipulate organisational data.

     - privileges (authorisations) can be applied to users and to particular tasks.

     - all resourcing actions are logged in process logs completely separate from
       those of the engine.

     - several 'pluggable' interfaces are provided:
         * org data can be provided from any data source through an 'OrgDataSouce'
           interface.
         * constraints, filters and allocation strategies can be added at any time.
         * a 'resource' interface provides resourcing data to (authorised) custom
           services.
         * a 'workqueue' interface provides full access to the work queue and routing
           framework to (authorised) services, so for example other worklist handlers
           can be implemented.


   YAWL PROCESS EDITOR: A new version of the YAWL Process Editor (2.0 beta) has been
   released and should be used to design new processes for the new engine version.


3. DEPRECATED SERVICES
----------------------
   A zip is provided in the distribution that contains 3 deprecated wars:

    - WORKLIST: Replaced by the resource service's integrated workist.
    - YAWLXFORMS: No longer required (the resource service generates its own forms).
    - TIMESERVICE: No longer required, since tasks can now have their own inbuilt timers.

   The deprecated services are still operational and may be used if desired. For
   example, the old worklist (which needs YawlXForms to run) can still be used to
   view and manage processes (but of course without any resourcing capabilities), and
   the time service can be used as before, especially where old process definitions
   rely on it.

   With the final 2.0 release, these services will be compiled one last time and
   released as deprecated services, and their source code will be moved from the
   YAWL codebase.

   Note: The old ADMINTOOL package has been superseded by the admin facilities of the
   Resource Service. AdminTool was no longer compatible with the engine and has been
   removed from the codebase.


4. CURRENT KNOWN LIMITATIONS
----------------------------
   This beta version ships with the current *known* limitations listed below. All will
   be resolved in the final release.

   - The resource service's worklist and admin pages render correctly in all tested
     browsers (Firefox, Opera and Safari on Win & OSX) *except* Microsoft Internet
     Explorer.

   - The dynamic forms generated for workitems in the resource service's worklist do not
     yet support data schema's with simple type enumerations and restrictions.

   - There is an occasional issue in dynamic forms containing complex types that allow
     users to dynamically the increase the number of instances, where fields are not
     replicated correctly if data has previously been input into some of the fields.

   - The 'New Instance' button on the Started work queue, which provides for the
     dynamic creation of new workitem instances for multiple atomic tasks that allow
     dynamic creation, is not currently operational (ie. it does nothing).


   The YAWL EDITOR currently has these known limitations:

   - late-binding of resourcing information to a net-level variable doesn't work
     correctly.

   - in the Resources Wizard if another application is maximized on the foreground, the
     dialogs for resource managing disappear, thus losing the data that has been
     currently inserted in the  dialogs.

   - in the Resources Wizard, permission to pile tasks cannot be given for a task.

   - once a decomposition for a task is set to manual, there is no way in the editor to
     set it back to automated.

   - timer expiry can only be expressed as a duration, but not as a specific date-time.

   - late-binding of timer data to a net variable is not supported.

   - the versioning of specifications does not work. It is not automatically increased
     in the Export Spec dialog box, and any change in the version number is not reflected
     in the exported specification.

   - if an org model does not feature any participants but only roles, the wizard does
     not work.

   - when "retain familiar" and "4-eye principle" are ticked in Step 3 of the wizard,
     they remain ticked, no matter if they are unticked, i.e. it is not possible to undo
     this choice

   - an exception is thrown in the editor if a name uses the "&" symbol. As a result, the
     resource wizard does not show up.

   - on export, an exception is thrown if the queries of a MI task are not specified.
     The XML is exported as an empty file (it only contains the word NULL).

   - when a net is created with one automated task (ie. Manage Resourcing is not
     selected). On exporting to xml, the xml correctly marked the decomposition as
     'automated'. If then a second task is added and set with some basic resourcing
     requirements, then exported, the decompositions for BOTH tasks are now set to
     'manual', even though the first task was not touched.

   - it is not possible to remove a decomposition from a task unless the task is removed
     from the net.

   - when a decomposition is changed, the label is not updated.


   Please report any bugs or problems via the YAWL sourceforge page:

                    http://sourceforge.net/projects/yawl


              /*************************************************/
