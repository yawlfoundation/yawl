<?xml version="1.0"?>
<!-- $Id$ -->
<project name="YAWL Engine Build File" default="build-engine" basedir="..">

	<property name="classes" value="classes"/>
	<path id="classes.dir" location="${classes}"/>

	<target name="clean">
		<echo>Cleaning...</echo>
		<delete dir="${classes}"/>
	</target>

	<target name="compile" depends="clean">
		<echo>Compiling Yawl Engine...</echo>
		<mkdir dir="${classes}"/>
		<javac debug="true" destdir="${classes}">
			<src path="src"/>
			<src path="services"/>
			<exclude name="au/edu/qut/yawl/wsif/**"/>
			<classpath>
				<fileset dir="build/3rdParty/persistenceLibs/">
					<include name="*.jar" />
				</fileset>
				<fileset dir="build/3rdParty/serviceLibs/xfire">
					<include name="*.jar" />
				</fileset>
				<pathelement location="build/3rdParty/lib/quartz-1.5.2.jar"/>				
				<pathelement location="build/3rdParty/lib/jms-1.1.jar"/>				
				<pathelement location="build/3rdParty/lib/openjms-common-0.7.7-alpha-3.jar"/>				
				<pathelement location="build/3rdParty/lib/openjms-net-0.7.7-alpha-3.jar"/>				
				<pathelement location="build/3rdParty/lib/openjms-tools-0.7.7-alpha-3.jar"/>				
				<pathelement location="build/3rdParty/serviceLibs/jython/jython.jar"/>
				<pathelement location="build/3rdParty/xsdlib/common.jar"/>
				<pathelement location="build/3rdParty/xsdlib/ecore.jar"/>
				<pathelement location="build/3rdParty/xsdlib/xsd.jar"/>
				<pathelement location="build/3rdParty/xsdlib/xsd.resources.jar"/>
				<pathelement location="build/3rdParty/lib/castor-0.9.5.jar"/>
				<pathelement location="build/3rdParty/lib/commons-codec-1.3.jar"/>
				<pathelement location="build/3rdParty/lib/commons-collections-2.1.jar"/>
				<pathelement location="build/3rdParty/lib/commons-dbcp-1.2.1.jar"/>
				<pathelement location="build/3rdParty/lib/commons-logging-1.0.4.jar"/>
				<pathelement location="build/3rdParty/lib/commons-pool-1.2.jar"/>
				<pathelement location="build/3rdParty/lib/concurrent-1.3.4.jar"/>
				<pathelement location="build/3rdParty/lib/jbossall-client.jar"/>
				<pathelement location="build/3rdParty/lib/jcommon-1.0.0-rc1.jar"/>
				<pathelement location="build/3rdParty/lib/jdbc-2.0.jar"/>
				<pathelement location="build/3rdParty/lib/jdom-1.0.jar"/>
				<pathelement location="build/3rdParty/lib/jfreechart-1.0.0-rc1.jar"/>
				<pathelement location="build/3rdParty/lib/jndi-1.2.1.jar"/>
				<pathelement location="build/3rdParty/lib/jta-1.0.1.jar"/>
				<pathelement location="build/3rdParty/lib/junit.jar"/>
				<pathelement location="build/3rdParty/lib/junit.jar"/>
				<pathelement location="build/3rdParty/lib/openjms-0.7.7-alpha-3.jar"/>
				<pathelement location="build/3rdParty/lib/log4j-1.2.11.jar"/>
				<pathelement location="build/3rdParty/lib/oro-2.0.8.jar"/>
				<pathelement location="build/3rdParty/lib/saxon7.jar"/>
				<pathelement location="build/3rdParty/lib/saxpath.jar"/>
				<pathelement location="build/3rdParty/lib/servlet-api.jar"/>
				<pathelement location="build/3rdParty/lib/xercesImpl.jar"/>
				<pathelement location="build/3rdParty/lib/xml-apis-1.0.b2.jar"/>
				<pathelement location="build/3rdParty/lib/xmlunit1.0.jar"/>
				<pathelement location="build/3rdParty/wsif-lib/wsif.jar"/>
			</classpath>
		</javac>
		<copy todir="${classes}">
			<fileset dir="src">
			    <exclude name="**/*.java"/>
			</fileset>
		</copy>
	</target>

	<target name="build-engine" depends="compile">
		<delete dir="yawlEngine"/>
		<mkdir dir="yawlEngine"/>
		<mkdir dir="yawlEngine/lib"/>
		<jar destfile="yawlEngine/lib/yawlEngine.jar" basedir="${classes}">
	</jar>
</target>
</project>