<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: itemset.xhtml,v 1.6 2006/07/11 14:21:55 unl Exp $ -->
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <title>Itemset</title>
        <xf:model>
            <xf:instance id="data" xmlns="">
                <data>
                    <select1></select1>
                    <select></select>
                </data>
            </xf:instance>
            <xf:bind id="bind-select1" nodeset="select1"/>
            <xf:bind id="bind-select" nodeset="select"/>

            <xf:instance id="list" xmlns="">
                <list>
                    <entry number="1">First</entry>
                    <entry number="2">Second</entry>
                    <entry number="3">Third</entry>
                    <entry number="0"/>
                </list>
            </xf:instance>
            <xf:bind id="bind-entry" nodeset="instance('list')/entry[position()!=last()]">
                <xf:bind id="bind-entry-label" nodeset="."/>
                <xf:bind id="bind-entry-value" nodeset="@number"/>
            </xf:bind>
        </xf:model>
    </head>
    <body>
        <xf:group appearance="full">
            <xf:label>Dynamic Select1/Select lists with Itemset</xf:label>
            <xf:group appearance="full">
                <xf:label>Select1 with Itemset</xf:label>
                <xf:select1 bind="bind-select1" appearance="minimal">
                    <xf:label>Minimal</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select1>
                <xf:select1 bind="bind-select1" appearance="compact">
                    <xf:label>Compact</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select1>
                <xf:select1 bind="bind-select1" appearance="full">
                    <xf:label>Full</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select1>
                <xf:output bind="bind-select1">
                    <xf:label>Value</xf:label>
                </xf:output>
            </xf:group>
            <xf:group appearance="full">
                <xf:label>Select with Itemset</xf:label>
                <xf:select bind="bind-select" appearance="minimal">
                    <xf:label>Minimal</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select>
                <xf:select bind="bind-select" appearance="compact">
                    <xf:label>Compact</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select>
                <xf:select bind="bind-select" appearance="full">
                    <xf:label>Full</xf:label>
                    <xf:itemset bind="bind-entry">
                        <xf:label bind="bind-entry-label"/>
                        <xf:value bind="bind-entry-value"/>
                    </xf:itemset>
                </xf:select>
                <xf:output bind="bind-select">
                    <xf:label>Value</xf:label>
                </xf:output>
            </xf:group>
            <xf:group appearance="full">
                <xf:label>Modify Itemset list</xf:label>
                <xf:repeat id="repeat-entries" bind="bind-entry" appearance="compact">
                    <xf:input bind="bind-entry-value">Value</xf:input>
                    <xf:input bind="bind-entry-label">Label</xf:input>
                </xf:repeat>
                <xf:trigger>
                    <xf:label>Append entry</xf:label>
                    <xf:action>
                        <xf:insert nodeset="instance('list')/entry" at="last()" position="before"/>
                        <xf:setvalue ref="instance('list')/entry[index('repeat-entries')]/@number" value="format-number(max(instance('list')/entry/@number) + 1, '0')"/>
                    </xf:action>
                </xf:trigger>
                <xf:trigger>
                    <xf:label>Remove entry</xf:label>
                    <xf:action>
                        <xf:delete nodeset="instance('list')/entry" at="index('repeat-entries')"/>
                    </xf:action>
                </xf:trigger>

            </xf:group>
        </xf:group>
    </body>
</html>
