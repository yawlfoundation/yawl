
<processing>
 <job name="Installing Tomcat Web Container">
  <os family="windows" />
  <executefile name="$INSTALL_PATH/apache-tomcat-5.5.17.exe">
  <arg>/S</arg>
  <arg>/D=$INSTALL_PATH\Tomcat 5.5\</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>


<job name="Installing Postgres Database">
  <os family="windows" />
  <executefile name="&quot;$INSTALL_PATH/checkuser.bat&quot;">
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

<job name="Installing Postgres Database">
  <os family="windows" />
  <executefile name="msiexec">
  <arg>/i</arg>
  <arg>&quot;$INSTALL_PATH\postgresql-8.0-int.msi&quot;</arg>
  <arg>/qr</arg>
  <arg>INTERNALLAUNCH=1</arg>
  <arg>ADDLOCAL=server,psql,pgadmin</arg>
  <arg>SUPERPASSWORD=admin</arg>
  <arg>SERVICEPASSWORD=admin</arg>
  <arg>CREATESERVICEUSER=1</arg>
  <arg>DOINITDB=0</arg>
  <arg>BASEDIR=&quot;$INSTALL_PATH\postgres&quot;</arg>
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

<job name="Initialising Database">
  <os family="windows" />
  <executefile name="$INSTALL_PATH\CPAU.exe">
  <arg>-u</arg>
  <arg>postgres</arg>
  <arg>-p</arg>
  <arg>P0StgrEsYawL!</arg>
  <arg>-CWD</arg>
  <arg>c:</arg>
  <arg>-ex</arg>
  <arg>&quot;$INSTALL_PATH\postgres\bin\initdb -D $INSTALL_PATH\postgres\data\yawldatabase&quot;</arg>
  <arg>-lwp</arg>
  <arg>-wait</arg>
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

<job name="Starting Database Server">
  <os family="windows" />
  <executefile name="$INSTALL_PATH\CPAU.exe">
  <arg>-u</arg>
  <arg>postgres</arg>
  <arg>-p</arg>
  <arg>P0StgrEsYawL!</arg>
  <arg>-CWD</arg>
  <arg>c:</arg>
  <arg>-ex</arg>
  <arg>&quot;$INSTALL_PATH\postgres\bin\pg_ctl start -w -D $INSTALL_PATH\postgres\data\yawldatabase&quot;</arg>
  <arg>-lwp</arg>
  <arg>-wait</arg>
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

 <job name="Initialising Libraries on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>move</arg>
  <arg>&quot;$INSTALL_PATH\library\*&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\common\lib\&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>


 <job name="Initialising YAWL on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\yawl.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job> 

 <job name="Initialising Worklist on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\worklist.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job> 

 <job name="Initialising Admintool on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\adminTool.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job> 


 <job name="Initialising Time Service on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\timeService.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>  

 <job name="Initialising Worklet Service on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\workletService.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>   

 <job name="Initialising Forms container on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\yawlXForms.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>

 <job name="Initialising SMS Service on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\yawlSMSInvoker.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>

 <job name="Initialising Web Service Invoker on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\yawlWSInvoker.war&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\webapps&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>

    
 <job name="Initialising Application Context on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\InterfaceAServlet-servlet.xml&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\common\classes\InterfaceAServlet-servlet.xml&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job> 

 <job name="Initialising Application Context on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\InterfaceBServlet-servlet.xml&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\common\classes\InterfaceBServlet-servlet.xml&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>

 <job name="Initialising Application Context on Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="cmd">
  <arg>/c</arg>
  <arg>copy</arg>
  <arg>&quot;$INSTALL_PATH\hibernate.properties&quot;</arg>
  <arg>&quot;$INSTALL_PATH\Tomcat 5.5\common\classes\hibernate.properties&quot;</arg>
  </executefile>
  <executeForPack name="Tomcat WebServer"/>
 </job>

 <job name="Initialising YAWL on existing Tomcat Container...Please Wait">
  <os family="windows" />
  <executefile name="$INSTALL_PATH\init.bat">
  </executefile>
 </job>


<job name="Creating Database">
  <os family="windows" />
  <executefile name="$INSTALL_PATH\createdb.bat">
  <arg>yawl</arg>
  <arg>-U</arg>
  <arg>postgres</arg>
  <arg>-q</arg>
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

<job name="Stopping Database Server">
  <os family="windows" />
  <executefile name="$INSTALL_PATH\CPAU.exe">
  <arg>-u</arg>
  <arg>postgres</arg>
  <arg>-p</arg>
  <arg>P0StgrEsYawL!</arg>
  <arg>-CWD</arg>
  <arg>c:</arg>
  <arg>-ex</arg>
  <arg>&quot;$INSTALL_PATH\postgres\bin\pg_ctl stop -D $INSTALL_PATH\postgres\data\yawldatabase&quot;</arg>
  <arg>-lwp</arg>
  </executefile>
  <executeForPack name="PostgreSQL Database"/>
 </job>

</processing> 


