<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
    "http://java.sun.com/j2ee/dtd/web-app_2_3.dtd">
<web-app>
    <display-name>yawlXForms</display-name>

    <context-param>
        <param-name>FormBase</param-name>
        <param-value>http://localhost:8080/yawlXForms/</param-value>
        <description>
            The base value set for dynamically generated xforms (the URL of this webapp).
        </description>
    </context-param>
    
    <context-param>
        <param-name>YAWL</param-name>
        <param-value>http://localhost:8080/worklist/yawlFormServlet</param-value>
        <description>
            The URL location of the YAWL form servlet.
        </description>
    </context-param>

    <context-param>
        <param-name>chiba.docs</param-name>
        <param-value>documents</param-value>
        <description>itentifier for document-instances</description>
    </context-param>
    <context-param>
        <param-name>chiba.forms</param-name>
        <param-value>forms</param-value>
        <description>identifier for XForms</description>
    </context-param>
    <context-param>
        <param-name>chiba.upload</param-name>
        <param-value>upload</param-value>
        <description>relative path to upload-dir</description>
    </context-param>
    <context-param>
        <param-name>debug</param-name>
        <param-value>true</param-value>
        <description>flag for debugging the whole app</description>
    </context-param>
    <context-param>
        <param-name>error.page</param-name>
        <param-value>jsp/error.jsp</param-value>
        <description>relative path to error page</description>
    </context-param>
    <context-param>
        <param-name>chiba.useragent.ajax.path</param-name>
        <param-value>/FluxHelper</param-value>
        <description>relative path under which AJAX helper servlet is mapped</description>
    </context-param>
    <context-param>
        <param-name>chiba.useragent.plainhtml.path</param-name>
        <param-value>/PlainHtml</param-value>
        <description>relative path under which plain html servlet is mapped</description>
    </context-param>

    <!--
    (un)comment the following two context-params if you want to use your own
    custom xforms-stylesheet. This has to be copied to the directory configured
    for chiba.xforms.stylePath.
    -->
    <context-param>
        <param-name>chiba.xforms.stylesPath</param-name>
        <param-value>/forms/xslt</param-value>
        <description>location of stylesheets relative to webapp-dir</description>
    </context-param>


    <!--    ?????? - still needed ????????????
        <context-param>
            <param-name>chiba.xforms.stylesheet</param-name>
            <param-value>xforms.xsl</param-value>
            <description>name of xforms-stylesheet</description>
        </context-param>
        -->

    <!-- prestart log4j initialization -->
    <servlet>
        <servlet-name>log4j-init</servlet-name>
        <servlet-class>org.chiba.adapter.servlet.Log4jInit</servlet-class>

        <init-param>
            <param-name>log4j-init-file</param-name>
            <param-value>WEB-INF/log4j.xml</param-value>
        </init-param>

        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>XFormsServlet</servlet-name>
        <servlet-class>org.chiba.adapter.servlet.ChibaServlet</servlet-class>

         <init-param>
             <param-name>chiba.config</param-name>
             <param-value>WEB-INF/default.xml</param-value>
         </init-param>
        <init-param>
            <param-name>scriptPath</param-name>
            <param-value>/forms/scripts/</param-value>
        </init-param>
        <init-param>
            <param-name>CSSPath</param-name>
            <param-value>/forms/styles/</param-value>
        </init-param>
    </servlet>

    <servlet>
            <servlet-name>YAWLServlet</servlet-name>
            <servlet-class>au.edu.qut.yawl.xformsupload.YAWLServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>Flux</servlet-name>
        <servlet-class>uk.ltd.getahead.dwr.DWRServlet</servlet-class>

        <init-param>
            <param-name>debug</param-name>
            <param-value>true</param-value>
            <description>Do we startup in debug mode?</description>
        </init-param>
    </servlet>

    <servlet>
        <servlet-name>FluxHelper</servlet-name>
        <servlet-class>org.chiba.adapter.servlet.FluxHelperServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>PlainHtml</servlet-name>
        <servlet-class>org.chiba.adapter.servlet.PlainHtmlServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>SubmissionResponse</servlet-name>
        <servlet-class>org.chiba.adapter.servlet.SubmissionResponseServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>YAWLServlet</servlet-name>
        <url-pattern>/YAWLServlet</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>Flux</servlet-name>
        <url-pattern>/Flux/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>FluxHelper</servlet-name>
        <url-pattern>/FluxHelper/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>XFormsServlet</servlet-name>
        <url-pattern>/XFormsServlet</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>PlainHtml</servlet-name>
        <url-pattern>/PlainHtml/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>SubmissionResponse</servlet-name>
        <url-pattern>/SubmissionResponse</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>/jsp/forms.jsp</welcome-file>
    </welcome-file-list>


    <!--
    <security-constraint>
        <web-resource-collection>
            <web-resource-name>Chiba Member Area</web-resource-name>
            <url-pattern>/jsp/*</url-pattern>
            <http-method>DELETE</http-method>
            <http-method>GET</http-method>
            <http-method>POST</http-method>
            <http-method>PUT</http-method>
        </web-resource-collection>
        <auth-constraint>
            <role-name>tomcat</role-name>
            <role-name>role1</role-name>
        </auth-constraint>
    </security-constraint>
    <login-config>
        <auth-method>FORM</auth-method>
        <realm-name>Example Form-Based Authentication Area</realm-name>
        <form-login-config>
            <form-login-page>/login.jsp</form-login-page>
            <form-error-page>/login_error.jsp</form-error-page>
        </form-login-config>
    </login-config>

    -->
</web-app>
