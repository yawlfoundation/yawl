<?xml version="1.0" encoding="utf-8"?>
<xhtml:html
	xmlns:xhtml="http://www.w3.org/1999/xhtml"
	xmlns:chiba="http://chiba.sourceforge.net/xforms"
	xmlns:xforms="http://www.w3.org/2002/xforms"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:ev="http://www.w3.org/2001/xml-events">

<xhtml:head>
	<xforms:model >
		<xforms:instance id="main" xmlns="">
			<news-list>
			  	<news created="2.4.2005" creator="om" title="Petra">content</news>
			  	<news created="2.4.2005" creator="om" title="Castro">content</news> 
				<news created="2.4.2005" creator="om" title="Oli">content</news> 
				<news created="2.4.2005" creator="om" title="Max">content</news> 
                <news created="2.4.2005" creator="om" title="nix!">content</news>
			</news-list>
		</xforms:instance>
		<xforms:bind id="bind_1" nodeset="news[position()!=last()]">
            <xforms:bind id="bind_1_1" nodeset="@title" type="string"/>
            <xforms:bind id="bind_1_2" nodeset="@created" type="string"/>
            <xforms:bind id="bind_1_3" nodeset="@creator" type="string"/>
        </xforms:bind>
	</xforms:model>
	
</xhtml:head>

<xhtml:body>

	<xforms:switch >
		<xforms:case id="view"  selected="true">

			<xforms:group>
				<xforms:label>Navigation oben</xforms:label>
			</xforms:group>

			<xforms:group>
				<xforms:label>Liste</xforms:label>

				
					<xforms:repeat id="repeat_1" bind="bind_1" appearance="compact">
					
							<xforms:output bind="bind_1_1" >
								<xforms:label>Titel</xforms:label>
							</xforms:output>
							<xforms:output bind="bind_1_2" >
								<xforms:label>Erzeugt</xforms:label>
							</xforms:output>
							<xforms:output bind="bind_1_3" >
								<xforms:label>Von</xforms:label>
							</xforms:output>
						    <xforms:output value="index('repeat_1')" >
								<xforms:label>index</xforms:label>
							</xforms:output>

							<xforms:trigger>
								<xforms:label>edit</xforms:label>
								<xforms:action>
									<xforms:toggle ev:event="DOMActivate" case="edit" />
								</xforms:action>
							</xforms:trigger>
							<xforms:trigger bind="bind_1">
								<xforms:label>delete</xforms:label>
								<xforms:hint>remove this item</xforms:hint>
								<xforms:action ev:event="DOMActivate">
                                    <xforms:delete at="index('repeat_1')" bind="bind_1"/>
								</xforms:action>
							
							</xforms:trigger>
						
						
					</xforms:repeat>
		
			</xforms:group>

			<xforms:group xmlns:xforms="http://www.w3.org/2002/xforms">
				<xforms:label>Navigation  unten</xforms:label>
			</xforms:group>

		</xforms:case>

		<xforms:case id="edit">
			<xforms:group ref="news[index('repeat_1')]">
				<xforms:label>News bearbeiten</xforms:label>
				<xforms:input ref="@title">
					<xforms:label>Titel</xforms:label>
				</xforms:input>
				<xforms:input ref="@created" >
					<xforms:label>Erzeugt</xforms:label>
				</xforms:input>
				<xforms:input ref="@creator">
					<xforms:label>Von</xforms:label>
				</xforms:input>
			</xforms:group>


		<xforms:trigger>
				<xforms:label>zur√ºck</xforms:label>
				<xforms:action ev:event="DOMActivate">
					<xforms:toggle case="view" />
				</xforms:action>
			</xforms:trigger>

		</xforms:case>

	</xforms:switch>


</xhtml:body>

</xhtml:html>
