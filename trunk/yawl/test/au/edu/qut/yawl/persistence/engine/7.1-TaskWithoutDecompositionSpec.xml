<?xml version="1.0" encoding="UTF-8"?>
<specificationSet xmlns="http://www.citi.qut.edu.au/yawl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="Beta 7.1" xsi:schemaLocation="http://www.citi.qut.edu.au/yawl d:/yawl/schema/YAWL_SchemaBeta7.1.xsd">
  <specification uri="TaskWithoutDecompositionSpec.xml">
    <documentation>This specification has a task that doesn't have a decomposition but does have multiple instances, which should cause an error</documentation>
    <metaData />
    <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" />
    <decomposition id="OverseeMusic" isRootNet="true" xsi:type="NetFactsType">
      <name>Oversee Music</name>
      <documentation />
      <processControlElements>
        <inputCondition id="input">
          <flowsInto>
            <nextElementRef id="decideName" />
          </flowsInto>
        </inputCondition>
        <task id="decideName" xsi:type="MultipleInstanceExternalTaskFactsType">
          <flowsInto>
            <nextElementRef id="finis" />
          </flowsInto>
          <join code="and" />
          <split code="and" />
          <minimum>1</minimum>
          <maximum>10</maximum>
          <threshold>4</threshold>
          <creationMode code="static" />
          <miDataInput>
            <expression query="&lt;songlist&gt;{if ( count(/OverseeMusic/songlist/*) &gt; 0) then /OverseeMusic/songlist/* else /OverseeMusic/songList_backup/* }&lt;/songlist&gt;" />
            <splittingExpression query="for $d in /songlist/* return &lt;songLocal&gt; { for $e in $d/* return $e } &lt;/songLocal&gt;" />
            <formalInputParam>songLocal</formalInputParam>
          </miDataInput>
        </task>
        <outputCondition id="finis">
          <name>Finished case</name>
        </outputCondition>
      </processControlElements>
    </decomposition>
  </specification>
</specificationSet>

